<!DOCTYPE html>
<html lang="en" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" xmlns:th="http://www.thymeleaf.org"
xmlns:sec="https//www.thymeleaf.org/thymeleaf-extra-springsecurity6">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Molla</title>
    <meta name="keywords" content="HTML5 Template">
    <meta name="description" content="Molla - Bootstrap eCommerce Template">
    <meta name="author" content="p-themes">
    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/images/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/images/icons/favicon-16x16.png">
    <link rel="manifest" href="/assets/images/icons/site.html">
    <link rel="mask-icon" href="/assets/images/icons/safari-pinned-tab.svg" color="#666666">
    <link rel="shortcut icon" href="/assets/images/icons/favicon.ico">
    <meta name="apple-mobile-web-app-title" content="Molla">
    <meta name="application-name" content="Molla">
    <meta name="msapplication-TileColor" content="#cc9966">
    <meta name="msapplication-config" content="/assets/images/icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <link rel="stylesheet" href="/assets/vendor/line-awesome/line-awesome/line-awesome/css/line-awesome.min.css">
    <!-- Plugins CSS File -->
    <link rel="stylesheet" href="/assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="/assets/css/plugins/owl-carousel/owl.carousel.css">
    <link rel="stylesheet" href="/assets/css/plugins/magnific-popup/magnific-popup.css">
    <link rel="stylesheet" href="/assets/css/plugins/jquery.countdown.css">
    <!-- Main CSS File -->
    <link rel="stylesheet" href="/assets/css/style.css">
    <link rel="stylesheet" href="/assets/css/skins/skin-demo-2.css">
    <link rel="stylesheet" href="/assets/css/demos/demo-2.css">
</head>

<body>
        <header th:replace="~{User/fragments/header::header}"></header>

        <main class="main">
            <div class="intro-slider-container">
				<div class="owl-carousel owl-simple owl-light owl-nav-inside" data-toggle="owl"
					data-owl-options='{"nav": false}'>
					<div class="intro-slide"
						style="background-image: url(assets/images/demos/demo-2/slider/slide-4.jpg);">
						<div class="container intro-content">
							<h3 class="intro-subtitle">Mỹ phẩm hàng đầu Việt Nam</h3><!-- End .h3 intro-subtitle -->


							<a href="/search" class="btn btn-primary">
								<span>Shop Now</span>
								<i class="icon-long-arrow-right"></i>
							</a>
						</div><!-- End .container intro-content -->
					</div><!-- End .intro-slide -->

					<div class="intro-slide"
						style="background-image: url(assets/images/demos/demo-2/slider/slide-5.jpg);">
						<div class="container intro-content">
							<h3 class="intro-subtitle">Mỹ phẩm hàng đầu Việt Nam</h3><!-- End .h3 intro-subtitle -->


							<a href="/search" class="btn btn-primary">
								<span>Shop Now</span>
								<i class="icon-long-arrow-right"></i>
							</a>
						</div><!-- End .container intro-content -->					</div><!-- End .intro-slide -->

					<div class="intro-slide"
						style="background-image: url(assets/images/demos/demo-2/slider/slide_9.jpg);">
						<div class="container intro-content">
							<h3 class="intro-subtitle">Mỹ phẩm hàng đầu Việt Nam</h3><!-- End .h3 intro-subtitle -->


							<a href="/search" class="btn btn-primary">
								<span>Shop Now</span>
								<i class="icon-long-arrow-right"></i>
							</a>
						</div><!-- End .container intro-content -->
					</div><!-- End .intro-slide -->
				</div><!-- End .owl-carousel owl-simple -->

				<span class="slider-loader text-white"></span><!-- End .slider-loader -->
			</div><!-- End .intro-slider-container -->

            <div class="brands-border owl-carousel owl-simple" data-toggle="owl" 
                data-owl-options='{
                    "nav": false, 
                    "dots": false,
                    "margin": 0,
                    "loop": false,
                    "responsive": {
                        "0": {
                            "items":2
                        },
                        "420": {
                            "items":3
                        },
                        "600": {
                            "items":4
                        },
                        "900": {
                            "items":5
                        },
                        "1024": {
                            "items":6
                        },
                        "1360": {
                            "items":7
                        }
                    }
                }'>
                <a href="#" class="brand">
                    <img src="assets/images/brands/1.png" alt="Brand Name">
                </a>

                <a href="#" class="brand">
                    <img src="assets/images/brands/2.png" alt="Brand Name">
                </a>

                <a href="#" class="brand">
                    <img src="assets/images/brands/3.png" alt="Brand Name">
                </a>

                <a href="#" class="brand">
                    <img src="assets/images/brands/4.png" alt="Brand Name">
                </a>

                <a href="#" class="brand">
                    <img src="assets/images/brands/5.png" alt="Brand Name">
                </a>

                <a href="#" class="brand">
                    <img src="assets/images/brands/6.png" alt="Brand Name">
                </a>

                <a href="#" class="brand">
                    <img src="assets/images/brands/7.png" alt="Brand Name">
                </a>
            </div><!-- End .owl-carousel -->


            <div class="container">
                <ul class="nav nav-pills nav-border-anim nav-big justify-content-center mb-3" role="tablist">
                    <li class="nav-item">
                        <a class="nav-link active" id="products-featured-link" data-toggle="tab" href="#products-featured-tab" role="tab" aria-controls="products-featured-tab" aria-selected="true">Bán chạy</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="products-sale-link" data-toggle="tab" href="#products-sale-tab" role="tab" aria-controls="products-sale-tab" aria-selected="false">Đánh giá cao</a>
                    </li>
                </ul>
            </div><!-- End .container -->

            <div class="container-fluid">
                <div class="tab-content tab-content-carousel">
                    <div class="tab-pane p-0 fade show active" id="products-featured-tab" role="tabpanel" aria-labelledby="products-featured-link">
                        <div class="owl-carousel owl-simple carousel-equal-height carousel-with-shadow" data-toggle="owl" 
                            data-owl-options='{
                                "nav": false, 
                                "dots": true,
                                "margin": 20,
                                "loop": false,
                                "responsive": {
                                    "0": {
                                        "items":2
                                    },
                                    "480": {
                                        "items":2
                                    },
                                    "768": {
                                        "items":3
                                    },
                                    "992": {
                                        "items":4
                                    },
                                    "1200": {
                                        "items":5
                                    },
                                    "1600": {
                                        "items":6,
                                        "nav": true
                                    }
                                }
                            }'>
                            <div class="product product-11 text-center" th:each="product :${productSale}">
                                <figure class="product-media">
                                     <a th:href="'/User/productDetail/' + ${product.productId}">
                                        
                                        <!-- Kiểm tra nếu imageUrl là URL -->
									<img th:if="${#strings.startsWith(product.images[0].imageUrl, 'http')}"
										th:src="${product.images[0].imageUrl}" class="product-image"
										alt="Ảnh sản phẩm">

									<!-- Nếu không phải URL, giả sử là file trên server -->
									<img th:if="${!#strings.startsWith(product.images[0].imageUrl, 'http')}"
										th:src="@{'/api/images?imageName=' + ${product.images[0].imageUrl}}"
										class="product-image" 
										alt="Ảnh sản phẩm">
                                    </a>


                                    <div class="product-action-vertical">
                                        <a href="#" th:onclick="'addlove('+ ${product.productId} +')'" class="btn-product-icon btn-wishlist"><span>Yêu thích</span></a>
                                    </div><!-- End .product-action-vertical -->
                                </figure><!-- End .product-media -->

                                <div class="product-body">
                                    <h3 class="product-title"><a th:href="'/User/productDetail/' + ${product.productId}" th:text="${product.productName}" href="product.html">Butler Stool Ladder</a></h3><!-- End .product-title -->
                                    <div class="product-price" >
                                        <p th:text="${product.price}"></p>
                                    </div><!-- End .product-price -->
                                </div><!-- End .product-body -->
                                <div class="product-action" style="display: flex; justify-content: center">
                                    <form th:action="@{/User/add-to-cart}" method="post">
										<input type="hidden" name="productId" th:value="${product.productId}" />
										<input type="hidden" name="quantity" th:value="1" />
										<button type="submit" class="btn-product btn-cart"><span>Thêm vào giỏ hàng</span></button>
									</form>
                                </div><!-- End .product-action -->
                            </div><!-- End .product -->

                        </div><!-- End .owl-carousel -->
                    </div><!-- .End .tab-pane -->
                    <div class="tab-pane p-0 fade" id="products-sale-tab" role="tabpanel" aria-labelledby="products-sale-link">
                        <div class="owl-carousel owl-simple carousel-equal-height carousel-with-shadow" data-toggle="owl" 
                            data-owl-options='{
                                "nav": false, 
                                "dots": true,
                                "margin": 20,
                                "loop": false,
                                "responsive": {
                                    "0": {
                                        "items":2
                                    },
                                    "480": {
                                        "items":2
                                    },
                                    "768": {
                                        "items":3
                                    },
                                    "992": {
                                        "items":4
                                    },
                                    "1200": {
                                        "items":5
                                    },
                                    "1600": {
                                        "items":6,
                                        "nav": true
                                    }
                                }
                            }'>
                           <div class="product product-11 text-center" th:each="product :${productRate}">
                                <figure class="product-media">
                                     <a th:href="'/User/productDetail/' + ${product.productId}">
                                        
                                        <!-- Kiểm tra nếu imageUrl là URL -->
									<img th:if="${#strings.startsWith(product.images[0].imageUrl, 'http')}"
										th:src="${product.images[0].imageUrl}" class="product-image"
										alt="Ảnh sản phẩm">

									<!-- Nếu không phải URL, giả sử là file trên server -->
									<img th:if="${!#strings.startsWith(product.images[0].imageUrl, 'http')}"
										th:src="@{'/api/images?imageName=' + ${product.images[0].imageUrl}}"
										class="product-image" 
										alt="Ảnh sản phẩm">
                                    </a>


                                    <div class="product-action-vertical">
                                        <a href="#" th:onclick="'addlove('+ ${product.productId} +')'" class="btn-product-icon btn-wishlist"><span>Yêu thích</span></a>
                                    </div><!-- End .product-action-vertical -->
                                </figure><!-- End .product-media -->

                                <div class="product-body">
                                    <h3 class="product-title"><a th:href="'/User/productDetail/' + ${product.productId}" th:text="${product.productName}" href="product.html">Butler Stool Ladder</a></h3><!-- End .product-title -->
                                    <div class="product-price" >
                                        <p th:text="${product.price}"></p>
                                    </div><!-- End .product-price -->
                                </div><!-- End .product-body -->
                                <div class="product-action">
                                    <form th:action="@{/User/add-to-cart}" method="post">
										<input type="hidden" name="productId" th:value="${product.productId}" />
										<input type="hidden" name="quantity" th:value="1" />
										<button type="submit" class="btn-product btn-cart"><span>Thêm vào giỏ hàng</span></button>
									</form>                                </div><!-- End .product-action -->
                            </div><!-- End .product -->


                        </div><!-- End .owl-carousel -->
                    </div><!-- .End .tab-pane -->
                </div><!-- End .tab-content -->
            </div><!-- End .container-fluid -->

            <div class="mb-5"></div>

            <div class="banner-group">
				<div class="container">
					<div class="row">
						<div class="col-md-6 col-lg-4">
							
							<div class="banner banner-overlay">
								<a href="#">
									<img src="https://media.hcdn.vn/catalog/product/f/a/facebook-dynamic-son-thoi-3ce-vo-trong-suot-unstained-red-do-phan-3-5g-1721287805_img_385x385_622873_fit_center.jpg"
										alt="Banner">
								</a>

							</div><!-- End .banner -->
						</div><!-- End .col-lg-3 -->
						<div class="col-md-6 col-lg-4">
							<div class="banner banner-large banner-overlay banner-overlay-light">
								<a href="#">
									<img src="https://media.hcdn.vn/catalog/product/p/r/promotions-auto-kem-duong-la-roche-posay-giup-phuc-hoi-da-da-cong-dung-40ml_YwDaALvyUHWmnVv5_img_385x385_622873_fit_center.png"
										alt="Banner">
								</a>

							</div><!-- End .banner -->

							<div class="banner banner-overlay">
								<a href="#">
									<img src="https://media.hcdn.vn/catalog/product/d/a/dau-goi-buoi-cocoon-giam-gay-rung-kich-thich-moc-toc-310ml-doi-mau-1689820256_img_385x385_622873_fit_center.jpg"
										alt="Banner">
								</a>

							</div><!-- End .banner -->
						</div><!-- End .col-lg-3 -->

						<div class="col-md-6 col-lg-4">
							<div class="banner banner-overlay">
								<a href="#">
									<img src="https://media.hcdn.vn/catalog/product/p/r/promotions-auto-dau-goi-l-oreal-paris-duong-toc-suon-muot-toc-cao-cap-440ml_kTWzCGzBBz9Ctp2H_img_385x385_622873_fit_center.png"
										alt="Banner">
								</a>

							</div><!-- End .banner -->

							<div class="banner banner-overlay banner-overlay-light">
								<a href="#">
									<img src="https://media.hcdn.vn/catalog/product/p/r/promotions-auto-combo-tresemme-keratin-smooth-vao-nep-muot-ma-dau-goi-640g-dau-xa-620g_sL39JPLFgt2vRgY7_img_385x385_622873_fit_center.png"
										alt="Banner">
								</a>

								<div class="banner-content banner-content-top">
									<h4 class="banner-subtitle">On Sale</h4><!-- End .banner-subtitle -->
									<h3 class="banner-title">Lamps Offer</h3><!-- End .banner-title -->
									<div class="banner-text">up to 30% off</div><!-- End .banner-text -->
									<a href="#" class="btn btn-outline-gray banner-link">Shop Now<i
											class="icon-long-arrow-right"></i></a>
								</div><!-- End .banner-content -->
							</div><!-- End .banner -->
						</div><!-- End .col-lg-4 -->
					</div><!-- End .row -->
				</div><!-- End .container -->
			</div><!-- End .banner-group -->

            <div class="mb-6"></div><!-- End .mb-6 -->


            <div class="container">
                <ul class="nav nav-pills nav-border-anim nav-big justify-content-center mb-3" role="tablist">
                    <li class="nav-item">
                        <a class="nav-link active" id="products-featured-link" data-toggle="tab" href="#products-featured-tab" role="tab" aria-controls="products-featured-tab" aria-selected="true">Sản phẩm mới</a>
                    </li>
                </ul>
            </div><!-- End .container -->


            <div class="container-fluid">
                <div class="tab-content tab-content-carousel">
                    <div class="tab-pane p-0 fade show active" id="products-featured-tab" role="tabpanel" aria-labelledby="products-featured-link">
                        <div class="owl-carousel owl-simple carousel-equal-height carousel-with-shadow" data-toggle="owl" 
                            data-owl-options='{
                                "nav": false, 
                                "dots": true,
                                "margin": 20,
                                "loop": false,
                                "responsive": {
                                    "0": {
                                        "items":2
                                    },
                                    "480": {
                                        "items":2
                                    },
                                    "768": {
                                        "items":3
                                    },
                                    "992": {
                                        "items":4
                                    },
                                    "1200": {
                                        "items":5
                                    },
                                    "1600": {
                                        "items":6,
                                        "nav": true
                                    }
                                }
                            }'>
                            <div class="product product-11 text-center" th:each="product :${productNew}">
                                <figure class="product-media">
                                     <a th:href="'/User/productDetail/' + ${product.productId}">
                                        
                                        <!-- Kiểm tra nếu imageUrl là URL -->
									<img th:if="${#strings.startsWith(product.images[0].imageUrl, 'http')}"
										th:src="${product.images[0].imageUrl}" class="product-image"
										alt="Ảnh sản phẩm">

									<!-- Nếu không phải URL, giả sử là file trên server -->
									<img th:if="${!#strings.startsWith(product.images[0].imageUrl, 'http')}"
										th:src="@{'/api/images?imageName=' + ${product.images[0].imageUrl}}"
										class="product-image" 
										alt="Ảnh sản phẩm">
                                    </a>


                                    <div class="product-action-vertical">
                                        <a href="#" th:onclick="'addlove('+ ${product.productId} +')'" class="btn-product-icon btn-wishlist"><span>Yêu thích</span></a>
                                    </div><!-- End .product-action-vertical -->
                                </figure><!-- End .product-media -->

                                <div class="product-body">
                                    <h3 class="product-title"><a th:href="'/User/productDetail/' + ${product.productId}" th:text="${product.productName}" href="product.html">Butler Stool Ladder</a></h3><!-- End .product-title -->
                                    <div class="product-price" >
                                        <p th:text="${product.price}"></p>
                                    </div><!-- End .product-price -->
                                </div><!-- End .product-body -->
                                <div class="product-action" style="display: flex; justify-content: center">
                                    <form th:action="@{/User/add-to-cart}" method="post">
										<input type="hidden" name="productId" th:value="${product.productId}" />
										<input type="hidden" name="quantity" th:value="1" />
										<button type="submit" class="btn-product btn-cart"><span>Thêm vào giỏ hàng</span></button>
									</form>
                                </div><!-- End .product-action -->
                            </div><!-- End .product -->

                        </div><!-- End .owl-carousel -->
                    </div><!-- .End .tab-pane -->
                </div><!-- End .tab-content -->
            </div><!-- End .container-fluid -->
            
            <div class="container">
                <ul class="nav nav-pills nav-border-anim nav-big justify-content-center mb-3" role="tablist">
                    <li class="nav-item">
                        <a class="nav-link active" id="products-featured-link" data-toggle="tab" href="#products-featured-tab" role="tab" aria-controls="products-featured-tab" aria-selected="true">Sản phẩm yêu thích</a>
                    </li>
                </ul>
            </div><!-- End .container -->


            <div class="container-fluid">
                <div class="tab-content tab-content-carousel">
                    <div class="tab-pane p-0 fade show active" id="products-featured-tab" role="tabpanel" aria-labelledby="products-featured-link">
                        <div class="owl-carousel owl-simple carousel-equal-height carousel-with-shadow" data-toggle="owl" 
                            data-owl-options='{
                                "nav": false, 
                                "dots": true,
                                "margin": 20,
                                "loop": false,
                                "responsive": {
                                    "0": {
                                        "items":2
                                    },
                                    "480": {
                                        "items":2
                                    },
                                    "768": {
                                        "items":3
                                    },
                                    "992": {
                                        "items":4
                                    },
                                    "1200": {
                                        "items":5
                                    },
                                    "1600": {
                                        "items":6,
                                        "nav": true
                                    }
                                }
                            }'>
                            <div class="product product-11 text-center" th:each="product :${productFavou}">
                                <figure class="product-media">
                                     <a th:href="'/User/productDetail/' + ${product.productId}">
                                        
                                        <!-- Kiểm tra nếu imageUrl là URL -->
									<img th:if="${#strings.startsWith(product.images[0].imageUrl, 'http')}"
										th:src="${product.images[0].imageUrl}" class="product-image"
										alt="Ảnh sản phẩm">

									<!-- Nếu không phải URL, giả sử là file trên server -->
									<img th:if="${!#strings.startsWith(product.images[0].imageUrl, 'http')}"
										th:src="@{'/api/images?imageName=' + ${product.images[0].imageUrl}}"
										class="product-image" 
										alt="Ảnh sản phẩm">
                                    </a>


                                    <div class="product-action-vertical">
                                        <a href="#" th:onclick="'addlove('+ ${product.productId} +')'" class="btn-product-icon btn-wishlist"><span>Yêu thích</span></a>
                                    </div><!-- End .product-action-vertical -->
                                </figure><!-- End .product-media -->

                                <div class="product-body">
                                    <h3 class="product-title"><a th:href="'/User/productDetail/' + ${product.productId}" th:text="${product.productName}" href="product.html">Butler Stool Ladder</a></h3><!-- End .product-title -->
                                    <div class="product-price" >
                                        <p th:text="${product.price}"></p>
                                    </div><!-- End .product-price -->
                                </div><!-- End .product-body -->
                                <div class="product-action" style="display: flex; justify-content: center">
                                    <form th:action="@{/User/add-to-cart}" method="post">
										<input type="hidden" name="productId" th:value="${product.productId}" />
										<input type="hidden" name="quantity" th:value="1" />
										<button type="submit" class="btn-product btn-cart"><span>Thêm vào giỏ hàng</span></button>
									</form>
                                </div><!-- End .product-action -->
                            </div><!-- End .product -->

                        </div><!-- End .owl-carousel -->
                    </div><!-- .End .tab-pane -->
                </div><!-- End .tab-content -->
            </div><!-- End .container-fluid -->


        </main><!-- End .main -->
		<footer th:replace="~{User/fragments/footer::footer}"></footer>
    <!-- Plugins JS File -->
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/jquery.hoverIntent.min.js"></script>
    <script src="assets/js/jquery.waypoints.min.js"></script>
    <script src="assets/js/superfish.min.js"></script>
    <script src="assets/js/owl.carousel.min.js"></script>
    <script src="assets/js/jquery.plugin.min.js"></script>
    <script src="assets/js/jquery.countdown.min.js"></script>
    <!-- Main JS File -->
    <script src="assets/js/main.js"></script>
    <script src="assets/js/demos/demo-2.js"></script>
    
<script >
//Hàm lưu thay đổi cho một địa chỉ
function addlove(productId) {


    // Gửi dữ liệu đến server thông qua AJAX
    $.ajax({
        url: '/User/addlove',
        type: 'POST',
        data: {
        	productId: productId,
        },
        success: function (response) {
            alert(response);
        },
        error: function () {
            alert('Có lỗi xảy ra!');
        }
    });
}

</script>
    
</body>



<!-- molla/index-1.html  22 Nov 2019 09:55:32 GMT -->
</html>