<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{/Admin/index.html}">

<head>
	<meta charset="utf-8" />
	<title>Chỉnh sửa mã giảm giá</title>
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta content="width=device-width, initial-scale=1.0" name="viewport" />
	<meta http-equiv="Content-type" content="text/html; charset=utf-8">
	<meta content="" name="description" />
	<meta content="" name="author" />
	<!-- BEGIN GLOBAL MANDATORY STYLES -->
	<link href="http://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700&subset=all" rel="stylesheet"
		type="text/css">
	<link href="/assets/global/plugins/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
	<link href="/assets/global/plugins/simple-line-icons/simple-line-icons.min.css" rel="stylesheet" type="text/css">
	<link href="/assets/global/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css">
	<link href="/assets/global/plugins/uniform/css/uniform.default.css" rel="stylesheet" type="text/css">
	<link href="/assets/global/plugins/bootstrap-switch/css/bootstrap-switch.min.css" rel="stylesheet"
		type="text/css" />
	<!-- END GLOBAL MANDATORY STYLES -->
	<!-- BEGIN PAGE LEVEL STYLES -->
	<link rel="stylesheet" type="text/css" href="/assets/global/plugins/select2/select2.css" />
	<link rel="stylesheet" type="text/css" href="/assets/global/plugins/bootstrap-wysihtml5/bootstrap-wysihtml5.css" />
	<link rel="stylesheet" type="text/css"
		href="/assets/global/plugins/bootstrap-markdown/css/bootstrap-markdown.min.css">
	<link rel="stylesheet" type="text/css" href="/assets/global/plugins/bootstrap-datepicker/css/datepicker.css" />
	<!-- END PAGE LEVEL SCRIPTS -->
	<!-- BEGIN THEME STYLES -->
	<link href="/assets/global/css/components.css" id="style_components" rel="stylesheet" type="text/css" />
	<link href="/assets/global/css/plugins.css" rel="stylesheet" type="text/css" />
	<link href="/assets/admin/layout2/css/layout.css" rel="stylesheet" type="text/css" />
	<link id="style_color" href="/assets/admin/layout2/css/themes/grey.css" rel="stylesheet" type="text/css" />
	<link href="/assets/admin/layout2/css/custom.css" rel="stylesheet" type="text/css" />
	<!-- END THEME STYLES -->
	<link rel="shortcut icon" href="favicon.ico" />
</head>

<body layout:fragment="content">

	<div class="clearfix">
	</div>
	<!-- BEGIN PAGE HEADER-->
	<h3 class="page-title">
		Quản Lý Chương Trình Khuyến Mãi
	</h3>
	<div class="page-bar">
		<ul class="page-breadcrumb">
			<li>
				<i class="fa fa-home"></i>
				<a href="/Admin">Home</a>
				<i class="fa fa-angle-right"></i>
			</li>
			<li>
				<a href="/Admin/voucher">Quản lý chương trình khuyến mãi</a>
				<i class="fa fa-angle-right"></i>
			</li>
			<li>
				<a href="#">Chỉnh sửa mã giảm giá</a>
			</li>

		</ul>

	</div>
	<!-- END PAGE HEADER-->
	<!-- BEGIN PAGE CONTENT-->
	<div class="row">
		<div class="col-md-12">
			<!-- BEGIN VALIDATION STATES-->
			<div class="portlet box blue">
				<div class="portlet-title">
					<div class="caption">
						<i class="fa fa-gift"></i>CHỈNH SỬA MÃ GIẢM GIÁ
					</div>

				</div>

				<div class="portlet-body form">
					<!-- BEGIN FORM-->
					<form action="/Admin/voucher/save" method="post" th:object=${voucher} class="form-horizontal">
						<div class="form-body">
							<h3 class="form-section">Thông tin mã giảm giá</h3>

							<div class="form-group has-error">
								<label class="control-label col-md-3" for="voucherId">Mã voucher</label>
								<div class="col-md-4">
									<input type="text" class="form-control" id="voucherId" name="voucherId"
										th:value="${voucher.voucherId}" readonly />
								</div>
							</div>

							<div class="form-group has-error">
								<label class="control-label col-md-3" for="voucherCode">Mã code</label>
								<div class="col-md-4">
									<input type="text" class="form-control" id="voucherCode" name="voucherCode"
										th:value="${voucher.voucherCode}" />

									<div th:if="${existCode}" class="alert alert-info">
										<span th:text="${existCode}"></span>
									</div>

								</div>
							</div>

							<div class="form-group has-error">
								<label class="control-label col-md-3" for="voucherType">Loại voucher</label>
								<div class="col-md-4">
									<select class="form-control" id="voucherType" name="voucherType">
										<option value="SHIP" th:selected="${voucher.voucherType == 'SHIP'}">SHIP
										</option>
										<option value="PRODUCT" th:selected="${voucher.voucherType == 'PRODUCT'}">
											PRODUCT
										</option>
									</select>
								</div>
							</div>
							<div class="form-group has-success">
								<label class="control-label col-md-3" for="voucherValue">Giá trị voucher</label>
								<div class="col-md-4">
									<div id="moneyField">
										<select class="form-control" id="moneyVoucherValue" name="voucherValue">
											<option value="10000" th:selected="${voucher.voucherValue == '10000'}">
												10K
											</option>
											<option value="15000" th:selected="${voucher.voucherValue == '15000'}">
												15K
											</option>
											<option value="20000" th:selected="${voucher.voucherValue == '20000'}">
												20K
											</option>
											<option value="25000" th:selected="${voucher.voucherValue == '25000'}">
												25K
											</option>
											<option value="50000" th:selected="${voucher.voucherValue == '50000'}">
												50K
											</option>
										</select>
									</div>

									<div id="percentField" style="display: none;">
										<select class="form-control" id="percentVoucherValue" name="voucherValue">
											<option value="5" th:selected="${voucher.voucherValue == '5'}">5%

											</option>
											<option value="10" th:selected="${voucher.voucherValue == '10'}">
												10%
											</option>
											<option value="15" th:selected="${voucher.voucherValue == '15'}">
												15%
											</option>
											<option value="20" th:selected="${voucher.voucherValue == '20'}">
												20%
											</option>
										</select>

									</div>

								</div>
							</div>

							<div class="form-group has-success">
								<label class="control-label col-md-3" for="minimumCost">Giá trị đơn hàng tối
									thiểu</label>
								<div class="col-md-4">
									<input type="text" class="form-control" id="minimumCost" name="minimumCost"
										th:value="${voucher.minimumCost}" />
									<span class="input-group-addon">VND</span>
									<div th:if="${checkMininumCost}" class="alert alert-info">
										<span th:text="${checkMininumCost}"></span>
									</div>

								</div>
							</div>

							<h3 class="form-section">Thời hạn của mã giảm giá</h3>
							<div class="form-group has-warning">
								<label class="control-label col-md-3">Ngày bắt đầu</label>
								<div class="col-md-4">
									<div class="input-icon right">

										<input type="datetime-local" class="form-control" id="startDate"
											name="startDate" th:value="${voucher.startDate}" />
									</div>
								</div>
							</div>
							<div class="form-group has-error">
								<label class="control-label col-md-3">Ngày kết thúc</label>
								<div class="col-md-4">
									<div class="input-icon right">

										<input type="datetime-local" class="form-control" id="endDate" name="endDate"
											th:value="${voucher.endDate}" />
									</div>

									<div th:if="${checkDate}" class="alert alert-info">
										<span th:text="${checkDate}"></span>
									</div>
								</div>

							</div>
						</div>
						<input type="hidden" id="active" name="active" th:value="${voucher.active}" />
				</div>
				<div class="form-actions">
					<div class="row">
						<div class="col-md-offset-3 col-md-9">
							<button type="submit" class="btn green">Submit</button>
							<button type="button" class="btn default" onclick="window.history.back()">Cancel</button>
						</div>
					</div>
				</div>
				</form>
				<!-- END FORM-->
			</div>
		</div>
		<!-- END VALIDATION STATES-->
	</div>
	</div>

	<div>
		<!-- END CONTAINER -->
		<!-- BEGIN FOOTER -->
		<footer th:replace="~{Admin/fragments/footer::footer}"></footer>
		<!-- END FOOTER -->
	</div>

	<script>
		document.addEventListener("DOMContentLoaded", function () {
			const voucherType = document.getElementById("voucherType");
			const moneyField = document.getElementById("moneyField");
			const percentField = document.getElementById("percentField");
			const moneyVoucherValue = document.getElementById("moneyVoucherValue");
			const percentVoucherValue = document.getElementById("percentVoucherValue");

			function toggleVoucherField() {
				if (voucherType.value === "SHIP") {
					moneyField.style.display = "block";
					percentField.style.display = "none";
					percentVoucherValue.disabled = true;
					moneyVoucherValue.disabled = false;
				} else if (voucherType.value === "PRODUCT") {
					moneyField.style.display = "none";
					percentField.style.display = "block";
					moneyVoucherValue.disabled = true;
					percentVoucherValue.disabled = false;
				}
			}
			toggleVoucherField();
			voucherType.addEventListener("change", toggleVoucherField);
		});

	</script>

	<script src="/assets/global/plugins/jquery.min.js" type="text/javascript"></script>
	<script src="/assets/global/plugins/jquery-migrate.min.js" type="text/javascript"></script>
	<!-- IMPORTANT! Load jquery-ui-1.10.3.custom.min.js before bootstrap.min.js to fix bootstrap tooltip conflict with jquery ui tooltip -->
	<script src="/assets/global/plugins/jquery-ui/jquery-ui-1.10.3.custom.min.js" type="text/javascript"></script>
	<script src="/assets/global/plugins/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
	<script src="/assets/global/plugins/bootstrap-hover-dropdown/bootstrap-hover-dropdown.min.js"
		type="text/javascript"></script>
	<script src="/assets/global/plugins/jquery-slimscroll/jquery.slimscroll.min.js" type="text/javascript"></script>
	<script src="/assets/global/plugins/jquery.blockui.min.js" type="text/javascript"></script>
	<script src="/assets/global/plugins/jquery.cokie.min.js" type="text/javascript"></script>
	<script src="/assets/global/plugins/uniform/jquery.uniform.min.js" type="text/javascript"></script>
	<script src="/assets/global/plugins/bootstrap-switch/js/bootstrap-switch.min.js" type="text/javascript"></script>
	<!-- END CORE PLUGINS -->
	<!-- BEGIN PAGE LEVEL PLUGINS -->
	<script type="text/javascript" src="/assets/global/plugins/jquery-validation/js/jquery.validate.min.js"></script>
	<script type="text/javascript" src="/assets/global/plugins/jquery-validation/js/additional-methods.min.js"></script>
	<script type="text/javascript" src="/assets/global/plugins/select2/select2.min.js"></script>
	<script type="text/javascript"
		src="/assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js"></script>
	<script type="text/javascript" src="/assets/global/plugins/bootstrap-wysihtml5/wysihtml5-0.3.0.js"></script>
	<script type="text/javascript" src="/assets/global/plugins/bootstrap-wysihtml5/bootstrap-wysihtml5.js"></script>
	<script type="text/javascript" src="/assets/global/plugins/ckeditor/ckeditor.js"></script>
	<script type="text/javascript" src="/assets/global/plugins/bootstrap-markdown/js/bootstrap-markdown.js"></script>
	<script type="text/javascript" src="/assets/global/plugins/bootstrap-markdown/lib/markdown.js"></script>
	<!-- END PAGE LEVEL PLUGINS -->
	<!-- BEGIN PAGE LEVEL STYLES -->
	<script src="/assets/global/scripts/metronic.js" type="text/javascript"></script>
	<script src="/assets/admin/layout2/scripts/layout.js" type="text/javascript"></script>
	<script src="/assets/admin/layout2/scripts/demo.js" type="text/javascript"></script>
	<script src="/assets/admin/pages/scripts/form-validation.js"></script>
	<!-- END PAGE LEVEL STYLES -->
	<script>
		jQuery(document).ready(function () {
			// initiate layout and plugins
			Metronic.init(); // init metronic core components
			Layout.init(); // init current layout
			Demo.init(); // init demo features
			FormValidation.init();
		});
	</script>
	<!-- END JAVASCRIPTS -->
</body>
<!-- END BODY -->

</html>